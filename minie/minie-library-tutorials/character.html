<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>An introduction to character physics :: The Minie project</title>
    <link rel="canonical" href="https://stephengold.github.io/Minie/minie/minie-library-tutorials/character.html">
    <link rel="prev" href="debug.html">
    <link rel="next" href="vehicle.html">
    <meta name="generator" content="Antora 3.1.14">
    <link rel="stylesheet" href="../../_/css/site.css">
<meta property="og:image" content="../../_/img/iconx128.png">
<meta property="og:description" content="An introduction to character physics">
<meta property="og:title" content="The Minie project">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://stephengold.github.io/Minie">
        <img alt="" src="../../_/img/iconx128.png" width="32" type="image/x-icon" style="margin-right:16px">
        The Minie project
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Color themes</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" onclick="setTheme('canyon')">Canyon</a>
            <a class="navbar-item" onclick="setTheme('dark')">Dark</a>
            <a class="navbar-item" onclick="setTheme('jungle')">Jungle</a>
            <a class="navbar-item" onclick="setTheme('light')">Light</a>
            <a class="navbar-item" onclick="setTheme('pastel')">Pastel</a>
            <a class="navbar-item" onclick="setTheme('phosphor')">Phosphor<a>
            <a class="navbar-item" style="padding-top: 5px;padding-left: 1px;padding-right: 1px;"></button>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="minie" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../overview.html">Project links</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../implementation.html">Implementation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Library tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="add.html">Add to existing project</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rigidbody.html">Rigid bodies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="shape.html">Collision shapes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rbc.html">RigidBodyControl</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="debug.html">Troubleshooting</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="character.html">Characters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="vehicle.html">Vehicles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="new6dof.html">New6Dof constraints</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dac.html">Ragdolls</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="collision.html">Managing collisions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="softbody.html">Soft bodies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="server.html">Physics without appstates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="misc.html">Miscellany</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../build.html">Build procedures</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../demos.html">Demo apps</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../depends.html">Dependencies</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="https://github.com/stephengold/Minie">GitHub repository</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Minie/releases/latest">Latest release</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Minie/releases">Recent releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Minie/blob/master/README.md">ReadMe file</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://raw.githubusercontent.com/stephengold/Minie/master/LICENSE">License</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Minie/blob/master/MinieLibrary/release-notes.md">Release log</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Minie/commits/master">Recent commits</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Minie/issues">Issue tracker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Minie/issues/new">Report an issue</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Library APIs (javadoc)</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/master">"master" branch</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v9-0">Version 9.0</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v8-2">Version 8.2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v8-1">Version 8.1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v8-0">Version 8.0</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v7-8">Version 7.8</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v7-7">Version 7.7</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v7-6">Version 7.6</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v7-5">Version 7.5</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v7-4">Version 7.4</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v7-2">Version 7.2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v7-1">Version 7.1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v7-0">Version 7.0</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v6-2">Version 6.2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v6-1">Version 6.1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v6-0">Version 6.0</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v5-1">Version 5.1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v5-0">Version 5.0</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v4-9">Version 4.9</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v4-8">Version 4.8</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v4-7">Version 4.7</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v4-6">Version 4.6</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v4-5">Version 4.5</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v4-4">Version 4.4</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v4-3">Version 4.3</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v4-2">Version 4.2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v4-1">Version 4.1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v4-0">Version 4.0</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v3-1">Version 3.1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v3-0">Version 3.0</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/v2-0">Version 2.0</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Minie at other sites</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://hub.jmonkeyengine.org/c/user-code-projects/minie/63">JMonkeyEngine forum</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://repo1.maven.org/maven2/com/github/stephengold/Minie">Maven Central download</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://central.sonatype.com/search?q=Minie&amp;namespace=com.github.stephengold">Maven Central search</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://library.jmonkeyengine.org/#!entry=11511%2F38308161-c3cf-4e23-8754-528ca8387c11">JMonkeyEngine Library</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://jitpack.io/#stephengold/Minie">JitPack (unofficial)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Projects using Minie</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://www.indiedb.com/games/the-afflicted-forests">The Afflicted Forests</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/rvandoosselaer/Blocks">Blocks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://play.google.com/store/apps/details?id=com.tharg.boxer">Boxer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Garrett">Garrett</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://store.steampowered.com/app/2244540/Marvelous_Marbles">Marvelous Marbles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Maud">Maud editor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/jme-vehicles">More Advanced Vehicles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://myworldvw.com">MyWorld</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/tlf30/PhysicsSync">PhysicsSync</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://scenemax3d.com">SceneMax3D</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Other related projects</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Acorus">Acorus</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://pybullet.org/wordpress">Bullet</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Heart">Heart</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://jmonkeyengine.org">JMonkeyEngine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Libbulletjme">Libbulletjme</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/Simsilica/SimMath">SimMath</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/kmammou/v-hacd">V-HACD</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/antora-ui-bundle">Website UI bundle</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">People</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io">Stephen Gold</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">The Minie project</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">The Minie project</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="../overview.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle-label">Project links</span>
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../overview.html">The Minie project</a></li>
    <li>Library tutorials</li>
    <li><a href="character.html">Characters</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/stephengold/Minie/edit/master/MinieLibrary/src/site/antora/tutorials/modules/minie-library-tutorials/pages/character.adoc">Edit this page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">An introduction to character physics</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>A <em>physics character</em> is a collision object
used to simulate game characters (people) walking, jumping, and falling.</p>
</div>
<div class="paragraph">
<p>The standard physics character makes some simplifying assumptions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The character&#8217;s shape must be convex.</p>
</li>
<li>
<p>The character remains upright even when jumping or falling:
no sitting, squatting, ducking, or lying down.</p>
</li>
<li>
<p>Limits are placed on:</p>
<div class="ulist">
<ul>
<li>
<p>how steep a slope the character can climb,</p>
</li>
<li>
<p>how high a step the character can climb, and</p>
</li>
<li>
<p>how fast the character can fall.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Like a dynamic rigid body,
a physics character has a collision shape, a location, and
a gravity vector, along with velocities and damping parameters.
It also has an option for contact response, which is enabled by default.</p>
</div>
<div class="paragraph">
<p>However, a physics character has no concept of mass,
and its motion is controlled very differently from a dynamic body.
Instead of applying forces or directly updating the character&#8217;s velocities,
the app should specify when and how the character should walk and jump.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_direct_creation"><a class="anchor" href="#_direct_creation"></a>Direct creation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can create a character by directly invoking the
<a href="https://stephengold.github.io/Minie/javadoc/master/com/jme3/bullet/objects/PhysicsCharacter.html"><code>PhysicsCharacter</code></a> constructor.
This allows you to specify its collision shape and step height.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/stephengold/Minie/blob/master/TutorialApps/src/main/java/jme3utilities/tutorial/HelloCharacter.java">HelloCharacter</a> is a simple app
that demonstrates the direct creation of a character,
followed by automated jumps.
Things to notice about the app:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The constructor requires a convex shape.
In this app, a capsule is used.</p>
</li>
<li>
<p>By themselves, the character and the ground are both invisible,
so the app uses debug visualization
to reveal what is occurring in physics space.</p>
</li>
<li>
<p>The <code>onGround()</code> method tests whether the character is supported
by a solid surface (as opposed to jumping or falling).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Since directly created characters don&#8217;t look like much,
even in debug visualization,
they are mostly used to represent players in single-player games
with a first-person viewpoint.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_charactercontrol"><a class="anchor" href="#_charactercontrol"></a>CharacterControl</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To associate a character with a spatial, there&#8217;s a
<a href="https://stephengold.github.io/Minie/javadoc/master/com/jme3/bullet/control/CharacterControl.html"><code>CharacterControl</code></a> class
that implements the <a href="https://stephengold.github.io/Minie/javadoc/master/com/jme3/bullet/control/PhysicsControl.html"><code>PhysicsControl</code></a>
interface.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For a <a href="https://stephengold.github.io/Minie/javadoc/master/com/jme3/bullet/control/CharacterControl.html"><code>CharacterControl</code></a>,
the physics control and its collision object are <strong>not</strong> the same object!
In fact, no collision object is created until the control is added to a spatial.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To access the collision object associated with a control,
use <code>characterControl.getCharacter()</code>.
To access the control associated with a collision object, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">(CharacterControl) character.getUserObject();</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://github.com/stephengold/Minie/blob/master/TutorialApps/src/main/java/jme3utilities/tutorial/HelloCharacterControl.java">HelloCharacterControl</a>
is a simple app that demonstrates
the creation of a <a href="https://stephengold.github.io/Minie/javadoc/master/com/jme3/bullet/control/CharacterControl.html"><code>CharacterControl</code></a>.</p>
</div>
<div class="paragraph">
<p>Things to notice about the app:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The character&#8217;s collision shape is a capsule.</p>
</li>
<li>
<p>The center of the Jaime model is located between its feet.
If the control were directly attached to the model,
its capsule shape would be off-center.
In order to match the model to the physics, the control is attached instead
to a <code>centerNode</code> located near Jaime&#8217;s chest.</p>
</li>
<li>
<p>Because control provides convenience methods
such as <code>onGround()</code> and <code>jump()</code>,
the app never accesses the collision object directly.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_walking"><a class="anchor" href="#_walking"></a>Walking</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A character&#8217;s walking motion is controlled by its <em>walk direction</em> vector.
During each simulation step, the horizontal component of the walk direction
gets added to the character&#8217;s location.
To stop the character from walking, invoke <code>setWalkDirection(Vector3f.ZERO)</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Despite its name, the walk direction need not be a unit vector.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a href="https://github.com/stephengold/Minie/blob/master/TutorialApps/src/main/java/jme3utilities/tutorial/HelloWalk.java">HelloWalk</a> demonstrates
keyboard-controlled motion of a physics character.
Things to notice while running the app:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Move the mouse to turn the camera.</p>
</li>
<li>
<p>Because the app uses a first-person viewpoint, the character is invisible.
Nonetheless, the character&#8217;s <strong>shadow</strong> can be seen. Find it!</p>
</li>
<li>
<p>Press <kbd>Space bar</kbd> to jump.</p>
</li>
<li>
<p>Press <kbd>W</kbd> to walk in the camera&#8217;s forward direction.</p>
</li>
<li>
<p>Some of the mountains have slopes too steep for the character to climb.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For an example using a third-person viewpoint,
see <a href="https://github.com/stephengold/Minie/blob/master/TutorialApps/src/main/java/jme3utilities/tutorial/HelloWalkOtoCc.java">HelloWalkOtoCc</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Press <kbd>Space bar</kbd> to jump.</p>
</li>
<li>
<p>Press <kbd>U</kbd> to walk in the camera&#8217;s forward direction.</p>
</li>
<li>
<p>Press <kbd>H</kbd> to walk to the camera&#8217;s left.</p>
</li>
<li>
<p>Press <kbd>J</kbd> to walk in the direction opposite
from the camera&#8217;s forward direction.</p>
</li>
<li>
<p>Press <kbd>K</kbd> to walk to the camera&#8217;s right.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration"><a class="anchor" href="#_configuration"></a>Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The configuration parameters described in this section
apply to both <code>PhysicsCharacter</code> and <code>CharacterControl</code>.
The control provides convenience methods to get/set some of these parameters.
The rest may be accessed by way of <code>characterControl.getCharacter()</code>.</p>
</div>
<div class="sect2">
<h3 id="_gravity_and_up_direction"><a class="anchor" href="#_gravity_and_up_direction"></a>Gravity and up direction</h3>
<div class="paragraph">
<p>The <em>up direction</em> of a physics character is a unit vector
that points in the direction opposite its gravity vector.
By default, the up direction is (0,1,0) and
the gravity vector is (0,-29.4,0).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A character&#8217;s default gravity is 3x stronger
than the default gravity of a <a href="https://stephengold.github.io/Minie/javadoc/master/com/jme3/bullet/PhysicsSpace.html"><code>PhysicsSpace</code></a>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Unlike the gravity of a rigid body, a character&#8217;s gravity is never
overridden by any physics space.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To alter a character&#8217;s gravity vector,
use <code>character.setGravity(Vector3f)</code>.</p>
</div>
<div class="paragraph">
<p>Altering the gravity vector automatically updates the character&#8217;s up direction.
To alter the <strong>magnitude</strong> of a character&#8217;s gravity
(without changing its direction) use <code>character.setGravity(float)</code>.</p>
</div>
<div class="paragraph">
<p>To alter a character&#8217;s up direction, use <code>character.setUp(Vector3f)</code>.
Altering the up direction automatically updates the gravity vector.</p>
</div>
</div>
<div class="sect2">
<h3 id="_jump_speed"><a class="anchor" href="#_jump_speed"></a>Jump speed</h3>
<div class="paragraph">
<p>If a character jumps in its up direction,
its predicted rise time and jump height
are determined by its gravity and jump speed.
Roughly speaking:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">float g = character.getGravity(null).length();
float v0 = character.getJumpSpeed();
float riseSeconds = v0 / g;
float jumpHeight = v0 * v0 / (2f * g);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default jump speed is 10 psu per second.
To alter a character&#8217;s jump speed, use <code>character.setJumpSpeed(float)</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_fall_speed"><a class="anchor" href="#_fall_speed"></a>Fall speed</h3>
<div class="paragraph">
<p><em>Fall speed</em> limits the speed of a falling character.
To be realistic, it should be larger than the character&#8217;s jump speed.</p>
</div>
<div class="paragraph">
<p>The default fall speed is 55 psu per second.
To alter a character&#8217;s fall speed, use <code>character.setFallSpeed(float)</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_step_height"><a class="anchor" href="#_step_height"></a>Step height</h3>
<div class="paragraph">
<p><em>Step height</em> limits how high a step the character can climb.
To be realistic, it should be less than the character&#8217;s height.</p>
</div>
<div class="paragraph">
<p>A character&#8217;s initial step height is set by the constructor.
To alter it, use <code>character.setStepHeight(float)</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_maximum_slope"><a class="anchor" href="#_maximum_slope"></a>Maximum slope</h3>
<div class="paragraph">
<p><em>Maximum slope</em> limits how steep a slope the character can climb.
It is expressed as an angle in radians relative to the horizontal plane.</p>
</div>
<div class="paragraph">
<p>The default maximum slope is &#960;/4, indicating a 45-degree angle.
To alter it, use <code>character.setMaxSlope(float)</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_contact_response"><a class="anchor" href="#_contact_response"></a>Contact response</h3>
<div class="paragraph">
<p>As with a rigid body, you can disable the contact response of a character using
<code>character.setContactResponse(false)</code>.</p>
</div>
<div class="paragraph">
<p>Disabling a character&#8217;s contact response
will compel it to fall, at least until contact response is re-enabled.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bettercharactercontrol"><a class="anchor" href="#_bettercharactercontrol"></a>BetterCharacterControl</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Many limitations of
<a href="https://stephengold.github.io/Minie/javadoc/master/com/jme3/bullet/objects/PhysicsCharacter.html"><code>PhysicsCharacter</code></a> and
<a href="https://stephengold.github.io/Minie/javadoc/master/com/jme3/bullet/control/CharacterControl.html"><code>CharacterControl</code></a>
are hardcoded into Bullet.
To work around these limitations,
you may wish to implement your own physics controls for characters.</p>
</div>
<div class="paragraph">
<p><a href="https://stephengold.github.io/Minie/javadoc/master/com/jme3/bullet/control/BetterCharacterControl.html"><code>BetterCharacterControl</code></a> (BCC)
is a custom character control that implements ducking and look direction.
You can use it as a model for implementing your own physics controls.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
BCC is based
on <a href="https://stephengold.github.io/Minie/javadoc/master/com/jme3/bullet/objects/PhysicsRigidBody.html"><code>PhysicsRigidBody</code></a>,
not <a href="https://stephengold.github.io/Minie/javadoc/master/com/jme3/bullet/objects/PhysicsCharacter.html"><code>PhysicsCharacter</code></a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There are many differences between BCC and CharacterControl.
For example:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The collision objects are located differently.
BCC locates the collision object near the character&#8217;s feet,
whereas CharacterControl centers it where a person&#8217;s hips would be.</p>
</li>
<li>
<p>The APIs to instantly relocate the character are different.
BCC provides a <code>warp()</code> method,
whereas CharacterControl allows you to invoke <code>setPhysicsLocation()</code> directly.</p>
</li>
<li>
<p>The <code>setWalkDirection()</code> methods have different semantics.
In BCC, the argument is a velocity vector (psu per second),
whereas in CharacterControl the argument is a displacement (psu per simulation step).</p>
</li>
<li>
<p>The APIs to test whether the character has physical support are different.
BCC has <code>isOnGround()</code>,
whereas CharacterControl calls it <code>onGround()</code>.</p>
</li>
<li>
<p>A CharacterControl will pass right through
another CharacterControl without colliding,
whereas a BCC can detect collisions with other characters.</p>
</li>
<li>
<p>A BCC has mass and can be configured for kinematic motion,
whereas a CharacterControl has no mass and cannot be made kinematic.</p>
</li>
<li>
<p>BCC is more customizable than CharacterControl.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="https://github.com/stephengold/Minie/blob/master/TutorialApps/src/main/java/jme3utilities/tutorial/HelloWalkOtoBcc.java">HelloWalkOtoBcc</a> is a simple app
that demonstrates walking and jumping with BCC and a third-person viewpoint.
The user interface is identical to HelloWalkOtoCc:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Press <kbd>Space bar</kbd> to jump.</p>
</li>
<li>
<p>Press <kbd>U</kbd> to walk in the camera&#8217;s forward direction.</p>
</li>
<li>
<p>Press <kbd>H</kbd>, <kbd>J</kbd>, or <kbd>K</kbd> to walk in other directions.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_related_demo_apps"><a class="anchor" href="#_related_demo_apps"></a>Related demo apps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Jme3Examples subproject contains several demo apps
that showcase physics characters.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/stephengold/Minie/blob/master/Jme3Examples/src/main/java/jme3test/bullet/TestQ3.java">The <code>TestQ3</code> demo app</a> demonstrates
a first-person walkthrough of a fictitious ancient temple.
It uses a directly created <code>PhysicsCharacter</code>.</p>
</li>
<li>
<p>The <a href="https://github.com/stephengold/Minie/blob/master/Jme3Examples/src/main/java/jme3test/bullet/TestPhysicsCharacter.java"><code>TestPhysicsCharacter</code></a>
and <a href="https://github.com/stephengold/Minie/blob/master/Jme3Examples/src/main/java/jme3test/bullet/TestWalkingChar.java"><code>TestWalkingChar</code></a>
demo apps use <code>CharacterControl</code> and a third-person viewpoint.</p>
<div class="ulist">
<ul>
<li>
<p>TestWalkingCharacter demonstrates the Oto model walking and shooting,
with appropriate skeleton animations.</p>
</li>
<li>
<p>TestPhysicsCharacter demonstrates the Sinbad model walking and jumping,
but doesn&#8217;t use skeleton animations.</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/stephengold/Minie/blob/master/Jme3Examples/src/main/java/jme3test/bullet/TestBetterCharacter.java">The <code>TestBetterCharacter</code> demo app</a>
demonstrates the Jaime model walking, jumping, and ducking.
It uses BCC and a third-person viewpoint.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_summary"><a class="anchor" href="#_summary"></a>Summary</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>A physics character simulates a game character walking, jumping, and falling.</p>
</li>
<li>
<p>To associate a character with a spatial, use a <code>CharacterControl</code>.</p>
</li>
<li>
<p>For <code>CharacterControl</code>, the physics control
and its collision object are <strong>not</strong> the same object!</p>
</li>
<li>
<p>If the built-in character controls don&#8217;t meet your needs,
you can implement your own.</p>
</li>
</ul>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="debug.html">Troubleshooting</a></span>
  <span class="next"><a href="vehicle.html">Vehicles</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Page contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright &copy; 2020&ndash;2025 by Stephen Gold</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
